import random

def main():
    print("Ласкаво просимо до пригоди!")
    player_name = input("Як вас звати? ")

    print(f"{player_name}, ви знаходитесь в загадковому лісі.")
    print("Ваша мета - знайти вихід. Попереду вас чекає безліч виборів.")

    while True:
        print("\nВиберіть дію:")
        print("1. Піти ліворуч у глиб лісу.")
        print("2. Піти праворуч у напрямку річки.")
        print("3. Подивитися на карту.")
        print("4. Завершити гру.")

        choice = input("Ваш вибір: ")

        if choice == "1":
            print("Ви вирішили піти ліворуч у глиб лісу.")
            encounter = random.randint(1, 3)
            if encounter == 1:
                print("Ви зустріли ведмедя! Вам вдалось втекти.")
            elif encounter == 2:
                print("Ви знайшли старовинний скарб!")
            else:
                print("Ви нічого не знайшли і розгубилися у лісі.")

        elif choice == "2":
            print("Ви пішли праворуч у напрямку річки.")
            encounter = random.randint(1, 3)
            if encounter == 1:
                print("Ви вибрались з річки і продовжили свій шлях.")
            elif encounter == 2:
                print("Ви знайшли міст через річку і перейшли його.")
            else:
                print("Ви зловили рибу для вечері!")

        elif choice == "3":
            print("Ви подивилися на карту і зрозуміли, що потрібно йти на південний захід.")
        
        elif choice == "4":
            print("Гра завершена. Дякуємо за участь!")
            break

        else:
            print("Виберіть допустиму дію.")

if __name__ == "__main__":
    main()
